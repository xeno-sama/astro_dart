{
    "sourceFile": "vsop/domes.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 13,
            "patches": [
                {
                    "date": 1641620971588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1641624503586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,11 +16,12 @@\n   var e = radians(ecl);  // склонение эклиптики в радианах\n \n   // формула для МС\n   var mc = degrees(atan(tan(pv) / cos(e)));\n-  late var ic;\n+  var ic,v,vi,ds,viii,ix;\n   // формула для AS\n   var asc = degrees(atan(cos(pv) / -(tan(lat) * sin(e) + sin(pv) * cos(e))));\n+\n   // вспомогательный угол для куспидов\n   var c = acos(-tan(e) * sin(pv) * tan(lat));\n \n   var ii = degrees(atan(cos(pv + c / 3) / -\n@@ -36,56 +37,49 @@\n         // МС должен быть в пределах 10гр от Pv и положительным\n   if ((mc - pv).abs() > 10) {mc += 180;}\n       \n   if (mc < 180) {ic = mc + 180;} // IC отстоит на 180гр\n-  elif mc >= 180:\n-      ic = mc - 180;\n+  if (mc >= 180) {ic = mc - 180;}\n+      \n+  if (asc < 0) {asc += 180;}\n+  if (asc < mc) {asc += 180;}\n+          \n+  if (asc > 360) {asc -= 360;}\n+  if (0 < asc && asc < mc) {asc += 180;} \n+  if (asc < mc) {asc += 180;}\n+  if (asc > 360) {asc -= 360;}\n+        \n \n-  if asc < 0:\n-      asc += 180\n-      if asc < mc:\n-          asc += 180\n-          if asc > 360:\n-              asc -= 360\n-  if 0 < asc < mc:\n-      asc += 180\n-      if asc < mc:\n-          asc += 180\n-      if asc > 360:\n-          asc -= 360\n+  if (asc < 180) {ds = asc + 180;} // DS отстоит на 180гр\n+  if (asc >= 180) {ds = asc - 180;}\n+      \n \n-  if asc < 180:\n-      ds = asc + 180  # DS отстоит на 180гр\n-  elif asc >= 180:\n-      ds = asc - 180\n+  while (ii < asc) {\n+    ii += 180;\n+    if (ii > 360) {ii = ii - 360;}        \n+    if (ii > 180) {viii = ii - 180;}        \n+    else {viii = ii + 180;}\n+  }\n+      \n \n-  while ii < asc:\n-      ii += 180\n-  if ii > 360:\n-      ii = ii - 360\n-  if ii > 180:\n-      viii = ii - 180\n-  else:\n-      viii = ii + 180\n+  while (iii < ii) {iii += 180;}\n+      \n+  if (iii > 360) {iii = iii - 360;}\n+      \n+  if (iii > 180) {ix = iii - 180;}\n+      \n+  else\n+      {ix = iii + 180;}\n \n-  while iii < ii:\n-      iii += 180\n-  if iii > 360:\n-      iii = iii - 360\n-  if iii > 180:\n-      ix = iii - 180\n-  else:\n-      ix = iii + 180\n+  while (xi < mc)\n+      {xi += 180;}\n+  if (xi > 360)\n+      {xi = xi - 360;}\n+  if (xi > 180)\n+      {v = xi - 180;}\n+  else\n+      {v = xi + 180;}\n \n-  while xi < mc:\n-      xi += 180\n-  if xi > 360:\n-      xi = xi - 360\n-  if xi > 180:\n-      v = xi - 180\n-  else:\n-      v = xi + 180\n-\n   while xii < xi:\n       xii += 180\n   if xii > 360:\n       xii = xii - 360\n"
                },
                {
                    "date": 1641624601329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,82 +12,118 @@\n   var RA = lst(h, m, L_sun, LON); // прямое восхождение\n \n   var pv = radians(RA);\n   var lat = radians(LAT);\n-  var e = radians(ecl);  // склонение эклиптики в радианах\n+  var e = radians(ecl); // склонение эклиптики в радианах\n \n   // формула для МС\n   var mc = degrees(atan(tan(pv) / cos(e)));\n-  var ic,v,vi,ds,viii,ix;\n+  var ic, v, vi, ds, viii, ix;\n   // формула для AS\n   var asc = degrees(atan(cos(pv) / -(tan(lat) * sin(e) + sin(pv) * cos(e))));\n \n   // вспомогательный угол для куспидов\n   var c = acos(-tan(e) * sin(pv) * tan(lat));\n \n-  var ii = degrees(atan(cos(pv + c / 3) / -\n-                (tan(lat) * sin(e) + sin(pv + c / 3) * cos(e))));\n-  var iii = degrees(atan(cos(pv + 2 * c / 3) / -\n-                (tan(lat) * sin(e) + sin(pv + 2 * c / 3) * cos(e))));\n-  var xi = degrees(atan(cos(pv - 2 * c / 3) / -\n-                (tan(lat) * sin(e) + sin(pv - 2 * c / 3) * cos(e))));\n-  var xii = degrees(atan(cos(pv - c / 3) / -\n-                (tan(lat) * sin(e) + sin(pv - c / 3) * cos(e))));\n+  var ii = degrees(\n+      atan(cos(pv + c / 3) / -(tan(lat) * sin(e) + sin(pv + c / 3) * cos(e))));\n+  var iii = degrees(atan(cos(pv + 2 * c / 3) /\n+      -(tan(lat) * sin(e) + sin(pv + 2 * c / 3) * cos(e))));\n+  var xi = degrees(atan(cos(pv - 2 * c / 3) /\n+      -(tan(lat) * sin(e) + sin(pv - 2 * c / 3) * cos(e))));\n+  var xii = degrees(\n+      atan(cos(pv - c / 3) / -(tan(lat) * sin(e) + sin(pv - c / 3) * cos(e))));\n \n-  if (mc < 0) {mc += 180;}\n-        // МС должен быть в пределах 10гр от Pv и положительным\n-  if ((mc - pv).abs() > 10) {mc += 180;}\n-      \n-  if (mc < 180) {ic = mc + 180;} // IC отстоит на 180гр\n-  if (mc >= 180) {ic = mc - 180;}\n-      \n-  if (asc < 0) {asc += 180;}\n-  if (asc < mc) {asc += 180;}\n-          \n-  if (asc > 360) {asc -= 360;}\n-  if (0 < asc && asc < mc) {asc += 180;} \n-  if (asc < mc) {asc += 180;}\n-  if (asc > 360) {asc -= 360;}\n-        \n+  if (mc < 0) {\n+    mc += 180;\n+  }\n+  // МС должен быть в пределах 10гр от Pv и положительным\n+  if ((mc - pv).abs() > 10) {\n+    mc += 180;\n+  }\n \n-  if (asc < 180) {ds = asc + 180;} // DS отстоит на 180гр\n-  if (asc >= 180) {ds = asc - 180;}\n-      \n+  if (mc < 180) {\n+    ic = mc + 180;\n+  } // IC отстоит на 180гр\n+  if (mc >= 180) {\n+    ic = mc - 180;\n+  }\n \n+  if (asc < 0) {\n+    asc += 180;\n+  }\n+  if (asc < mc) {\n+    asc += 180;\n+  }\n+\n+  if (asc > 360) {\n+    asc -= 360;\n+  }\n+  if (0 < asc && asc < mc) {\n+    asc += 180;\n+  }\n+  if (asc < mc) {\n+    asc += 180;\n\\ No newline at end of file\n+  }\n+  if (asc > 360) {\n+    asc -= 360;\n+  }\n+\n+  if (asc < 180) {\n+    ds = asc + 180;\n+  } // DS отстоит на 180гр\n+  if (asc >= 180) {\n+    ds = asc - 180;\n+  }\n+\n   while (ii < asc) {\n     ii += 180;\n-    if (ii > 360) {ii = ii - 360;}        \n-    if (ii > 180) {viii = ii - 180;}        \n-    else {viii = ii + 180;}\n+    if (ii > 360) {\n+      ii = ii - 360;\n+    }\n+    if (ii > 180) {\n+      viii = ii - 180;\n+    } else {\n+      viii = ii + 180;\n+    }\n   }\n-      \n \n-  while (iii < ii) {iii += 180;}\n-      \n-  if (iii > 360) {iii = iii - 360;}\n-      \n-  if (iii > 180) {ix = iii - 180;}\n-      \n-  else\n-      {ix = iii + 180;}\n+  while (iii < ii) {\n+    iii += 180;\n+  }\n \n-  while (xi < mc)\n-      {xi += 180;}\n-  if (xi > 360)\n-      {xi = xi - 360;}\n-  if (xi > 180)\n-      {v = xi - 180;}\n-  else\n-      {v = xi + 180;}\n+  if (iii > 360) {\n+    iii = iii - 360;\n+  }\n \n-  while xii < xi:\n-      xii += 180\n-  if xii > 360:\n-      xii = xii - 360\n-  if xii > 180:\n-      vi = xii - 180\n-  else:\n-      vi = xii + 180\n+  if (iii > 180) {\n+    ix = iii - 180;\n+  } else {\n+    ix = iii + 180;\n+  }\n \n+  while (xi < mc) {\n+    xi += 180;\n+  }\n+  if (xi > 360) {\n+    xi = xi - 360;\n+  }\n+  if (xi > 180) {\n+    v = xi - 180;\n+  } else {\n+    v = xi + 180;\n+  }\n+\n+  while (xii < xi) {\n+    xii += 180;\n+    if (xii > 360) {\n+      xii = xii - 360;\n+    }\n+    if (xii > 180) {\n+      vi = xii - 180;\n+    } else {\n+      vi = xii + 180;\n+    }\n+  }\n+\n   return [asc, ii, iii, ic, v, vi, ds, viii, ix, mc, xi, xii];\n-}:\n-    \n+}\n"
                },
                {
                    "date": 1641624881165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+// ignore_for_file: non_constant_identifier_names, prefer_typing_uninitialized_variables\n+\n import 'dart:math';\n import '../simple/defs/func.dart';\n \n List<double> domes(int Y, int M, int D, int h, int m, double LON, double LAT) {\n@@ -125,5 +127,5 @@\n     }\n   }\n \n   return [asc, ii, iii, ic, v, vi, ds, viii, ix, mc, xi, xii];\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1641632409888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,11 +42,10 @@\n   if ((mc - pv).abs() > 10) {\n     mc += 180;\n   }\n \n-  if (mc < 180) {\n-    ic = mc + 180;\n-  } // IC отстоит на 180гр\n+  mc < 180 ? ic = mc + 180 : mc; // IC отстоит на 180гр\n+\n   if (mc >= 180) {\n     ic = mc - 180;\n   }\n \n"
                },
                {
                    "date": 1641633028920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,41 +43,19 @@\n     mc += 180;\n   }\n \n   mc < 180 ? ic = mc + 180 : mc; // IC отстоит на 180гр\n+  mc >= 180 ? ic = mc - 180 : mc;\n \n-  if (mc >= 180) {\n-    ic = mc - 180;\n-  }\n+  asc < 0 ? asc += 180 : asc;\n+  asc > 360 ? asc -= 360 : asc;\n \n-  if (asc < 0) {\n-    asc += 180;\n-  }\n-  if (asc < mc) {\n-    asc += 180;\n-  }\n+  0 < asc && asc < mc ? asc += 180 : asc;\n \n-  if (asc > 360) {\n-    asc -= 360;\n-  }\n-  if (0 < asc && asc < mc) {\n-    asc += 180;\n-  }\n-  if (asc < mc) {\n-    asc += 180;\n-  }\n-  if (asc > 360) {\n-    asc -= 360;\n-  }\n+  asc < 180 ? ds = asc + 180 : asc;\n+  asc >= 180 ? ds = asc - 180 : asc;\n \n-  if (asc < 180) {\n-    ds = asc + 180;\n-  } // DS отстоит на 180гр\n-  if (asc >= 180) {\n-    ds = asc - 180;\n-  }\n-\n-  while (ii < asc) {\n+  if (ii < asc) {\n     ii += 180;\n     if (ii > 360) {\n       ii = ii - 360;\n     }\n"
                },
                {
                    "date": 1641633826240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n \n   asc < 180 ? ds = asc + 180 : asc;\n   asc >= 180 ? ds = asc - 180 : asc;\n \n-  if (ii < asc) {\n+  while (ii < asc) {\n     ii += 180;\n     if (ii > 360) {\n       ii = ii - 360;\n     }\n"
                },
                {
                    "date": 1641633861693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,18 +67,18 @@\n   }\n \n   while (iii < ii) {\n     iii += 180;\n-  }\n \n-  if (iii > 360) {\n-    iii = iii - 360;\n-  }\n+    if (iii > 360) {\n+      iii = iii - 360;\n+    }\n \n-  if (iii > 180) {\n-    ix = iii - 180;\n-  } else {\n-    ix = iii + 180;\n+    if (iii > 180) {\n+      ix = iii - 180;\n+    } else {\n+      ix = iii + 180;\n+    }\n   }\n \n   while (xi < mc) {\n     xi += 180;\n"
                },
                {
                    "date": 1641633867287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,8 @@\n   }\n \n   while (iii < ii) {\n     iii += 180;\n-\n     if (iii > 360) {\n       iii = iii - 360;\n     }\n \n"
                },
                {
                    "date": 1641633885376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,8 @@\n     iii += 180;\n     if (iii > 360) {\n       iii = iii - 360;\n     }\n-\n     if (iii > 180) {\n       ix = iii - 180;\n     } else {\n       ix = iii + 180;\n@@ -80,17 +79,18 @@\n   }\n \n   while (xi < mc) {\n     xi += 180;\n+\n+    if (xi > 360) {\n+      xi = xi - 360;\n+    }\n+    if (xi > 180) {\n+      v = xi - 180;\n+    } else {\n+      v = xi + 180;\n+    }\n   }\n-  if (xi > 360) {\n-    xi = xi - 360;\n-  }\n-  if (xi > 180) {\n-    v = xi - 180;\n-  } else {\n-    v = xi + 180;\n-  }\n \n   while (xii < xi) {\n     xii += 180;\n     if (xii > 360) {\n"
                },
                {
                    "date": 1641633890635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,8 @@\n   }\n \n   while (xi < mc) {\n     xi += 180;\n-\n     if (xi > 360) {\n       xi = xi - 360;\n     }\n     if (xi > 180) {\n"
                },
                {
                    "date": 1641634242899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,11 +34,9 @@\n       -(tan(lat) * sin(e) + sin(pv - 2 * c / 3) * cos(e))));\n   var xii = degrees(\n       atan(cos(pv - c / 3) / -(tan(lat) * sin(e) + sin(pv - c / 3) * cos(e))));\n \n-  if (mc < 0) {\n-    mc += 180;\n-  }\n+  mc < 0 ? mc += 180 : mc;\n   // МС должен быть в пределах 10гр от Pv и положительным\n   if ((mc - pv).abs() > 10) {\n     mc += 180;\n   }\n@@ -55,16 +53,10 @@\n   asc >= 180 ? ds = asc - 180 : asc;\n \n   while (ii < asc) {\n     ii += 180;\n-    if (ii > 360) {\n-      ii = ii - 360;\n-    }\n-    if (ii > 180) {\n-      viii = ii - 180;\n-    } else {\n-      viii = ii + 180;\n-    }\n+    ii > 360 ? ii = ii - 360 : ii;\n+    ii > 180 ? viii = ii - 180 : viii = ii + 180;\n   }\n \n   while (iii < ii) {\n     iii += 180;\n"
                },
                {
                    "date": 1641634510698,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,43 +56,22 @@\n     ii += 180;\n     ii > 360 ? ii = ii - 360 : ii;\n     ii > 180 ? viii = ii - 180 : viii = ii + 180;\n   }\n-\n-  while (iii < ii) {\n+  while (iii < asc) {\n     iii += 180;\n-    if (iii > 360) {\n-      iii = iii - 360;\n-    }\n-    if (iii > 180) {\n-      ix = iii - 180;\n-    } else {\n-      ix = iii + 180;\n-    }\n+    iii > 360 ? iii = iii - 360 : iii;\n+    iii > 180 ? ix = iii - 180 : ix = iii + 180;\n   }\n-\n   while (xi < mc) {\n     xi += 180;\n-    if (xi > 360) {\n-      xi = xi - 360;\n-    }\n-    if (xi > 180) {\n-      v = xi - 180;\n-    } else {\n-      v = xi + 180;\n-    }\n+    xi > 360 ? xi = xi - 360 : xi;\n+    xi > 180 ? v = xi - 180 : v = xi + 180;\n   }\n-\n-  while (xii < xi) {\n+  while (xii < mc) {\n     xii += 180;\n-    if (xii > 360) {\n-      xii = xii - 360;\n-    }\n-    if (xii > 180) {\n-      vi = xii - 180;\n-    } else {\n-      vi = xii + 180;\n-    }\n+    xii > 360 ? xii = xii - 360 : xii;\n+    xii > 180 ? vi = xii - 180 : vi = xii + 180;\n   }\n \n   return [asc, ii, iii, ic, v, vi, ds, viii, ix, mc, xi, xii];\n }\n"
                },
                {
                    "date": 1641636073691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,8 +51,18 @@\n \n   asc < 180 ? ds = asc + 180 : asc;\n   asc >= 180 ? ds = asc - 180 : asc;\n \n+  // List<double> getDomes(double dom1, double domCompare) {\n+  //   var dom2;\n+  //   while (dom1 < asc) {\n+  //   dom1 += 180;\n+  //   dom1 > 360 ? dom1 = dom1 - 360 : dom1;\n+  //   dom1 > 180 ? dom2 = dom1 - 180 : dom2 = dom1 + 180;\n+  // }\n+  //   return [dom1, dom2];\n+  // } //должно работать чтобы упростить нижние while\n+\n   while (ii < asc) {\n     ii += 180;\n     ii > 360 ? ii = ii - 360 : ii;\n     ii > 180 ? viii = ii - 180 : viii = ii + 180;\n"
                }
            ],
            "date": 1641620971588,
            "name": "Commit-0",
            "content": "import 'dart:math';\nimport '../simple/defs/func.dart';\n\nList<double> domes(int Y, int M, int D, int h, int m, double LON, double LAT) {\n  var d = num_date(Y, M, D, h, m);\n  var ecl = 23.4393 - 3.563E-7 * d;\n\n  var w_sun = 282.9404 + 4.70935E-5 * d;\n  var M_sun = deg_360(356.0470 + 0.9856002585 * d);\n  var L_sun = deg_360(w_sun + M_sun); // Звездное время\n\n  var RA = lst(h, m, L_sun, LON); // прямое восхождение\n\n  var pv = radians(RA);\n  var lat = radians(LAT);\n  var e = radians(ecl);  // склонение эклиптики в радианах\n\n  // формула для МС\n  var mc = degrees(atan(tan(pv) / cos(e)));\n  late var ic;\n  // формула для AS\n  var asc = degrees(atan(cos(pv) / -(tan(lat) * sin(e) + sin(pv) * cos(e))));\n  // вспомогательный угол для куспидов\n  var c = acos(-tan(e) * sin(pv) * tan(lat));\n\n  var ii = degrees(atan(cos(pv + c / 3) / -\n                (tan(lat) * sin(e) + sin(pv + c / 3) * cos(e))));\n  var iii = degrees(atan(cos(pv + 2 * c / 3) / -\n                (tan(lat) * sin(e) + sin(pv + 2 * c / 3) * cos(e))));\n  var xi = degrees(atan(cos(pv - 2 * c / 3) / -\n                (tan(lat) * sin(e) + sin(pv - 2 * c / 3) * cos(e))));\n  var xii = degrees(atan(cos(pv - c / 3) / -\n                (tan(lat) * sin(e) + sin(pv - c / 3) * cos(e))));\n\n  if (mc < 0) {mc += 180;}\n        // МС должен быть в пределах 10гр от Pv и положительным\n  if ((mc - pv).abs() > 10) {mc += 180;}\n      \n  if (mc < 180) {ic = mc + 180;} // IC отстоит на 180гр\n  elif mc >= 180:\n      ic = mc - 180;\n\n  if asc < 0:\n      asc += 180\n      if asc < mc:\n          asc += 180\n          if asc > 360:\n              asc -= 360\n  if 0 < asc < mc:\n      asc += 180\n      if asc < mc:\n          asc += 180\n      if asc > 360:\n          asc -= 360\n\n  if asc < 180:\n      ds = asc + 180  # DS отстоит на 180гр\n  elif asc >= 180:\n      ds = asc - 180\n\n  while ii < asc:\n      ii += 180\n  if ii > 360:\n      ii = ii - 360\n  if ii > 180:\n      viii = ii - 180\n  else:\n      viii = ii + 180\n\n  while iii < ii:\n      iii += 180\n  if iii > 360:\n      iii = iii - 360\n  if iii > 180:\n      ix = iii - 180\n  else:\n      ix = iii + 180\n\n  while xi < mc:\n      xi += 180\n  if xi > 360:\n      xi = xi - 360\n  if xi > 180:\n      v = xi - 180\n  else:\n      v = xi + 180\n\n  while xii < xi:\n      xii += 180\n  if xii > 360:\n      xii = xii - 360\n  if xii > 180:\n      vi = xii - 180\n  else:\n      vi = xii + 180\n\n  return [asc, ii, iii, ic, v, vi, ds, viii, ix, mc, xi, xii];\n}:\n    "
        }
    ]
}